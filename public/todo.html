<html>
    <head>
        <title> todo </title>
    </head>
    <link rel="stylesheet" type="text/css" href="./todo.css" />
    <body>
        <div id="app">
            <div id="todo-wrapper">
                <h1> todos </h1>
                <ul id="items">
                    <input type="text" id="input" />
                </ul>
            </div>
        </div>
        <div id="code">
<pre>
<span class="highlight"> grb.ws_blob('http://localhost:8080/todo', function (blob, object) {
    // If a list doesn't already exist create it.
    // otherwise, populate the ui with the todo items.
    if (!blob.read('list')) {
        blob.create('list', []);
    } else {
        blob.store.list.forEach(function (v){
            makeTodoItem(v);
        });
    }

    var todoList = object.list;</span>

    // On enter, push new values
    input.onenter = function() {
        <span class="highlight">todoList.push(input.value);</span>
        input.value = "";
    };

    // When an item is added to the global object,
    // drop it into the ui.
    <span class="highlight">
    blob.on('arrPush', function(p, k, v) {
        makeTodoItem(v);
    });</span>
});

</pre>
        </div>
        <script src="grb.js"></script>
        <script src="socket.io.js"></script>
        <script src="todo.js"></script>
    </body>
</html>
